


// const questions = [
//     {
//         question: "5+5",
//         level: "low",
//         category: "Math",
//         answers: [
//             { answer: 10, correct: true },
//             { answer: 12, correct: false },
//             { answer: 17, correct: false },
//             { answer: 19, correct: false }
//         ]
//     },
//     {
//         question: "What is the capital of France?",
//         level: "low",
//         category: "Geography",
//         answers: [
//             { answer: "Paris", correct: true },
//             { answer: "Berlin", correct: false },
//             { answer: "Madrid", correct: false },
//             { answer: "Rome", correct: false }
//         ]
//     },
//     {
//         question: "Who wrote 'To Kill a Mockingbird'?",
//         level: "medium",
//         category: "Literature",
//         answers: [
//             { answer: "Harper Lee", correct: true },
//             { answer: "Mark Twain", correct: false },
//             { answer: "F. Scott Fitzgerald", correct: false },
//             { answer: "Ernest Hemingway", correct: false }
//         ]
//     },
//     {
//         question: "What is the chemical symbol for water?",
//         level: "low",
//         category: "Science",
//         answers: [
//             { answer: "H2O", correct: true },
//             { answer: "O2", correct: false },
//             { answer: "CO2", correct: false },
//             { answer: "NaCl", correct: false }
//         ]
//     },
//     {
//         question: "In which year did the Titanic sink?",
//         level: "medium",
//         category: "History",
//         answers: [
//             { answer: 1912, correct: true },
//             { answer: 1905, correct: false },
//             { answer: 1898, correct: false },
//             { answer: 1923, correct: false }
//         ]
//     },
//     {
//         question: "What is the largest planet in our solar system?",
//         level: "low",
//         category: "Astronomy",
//         answers: [
//             { answer: "Jupiter", correct: true },
//             { answer: "Saturn", correct: false },
//             { answer: "Earth", correct: false },
//             { answer: "Mars", correct: false }
//         ]
//     },
//     {
//         question: "Solve for x: 2x + 3 = 7",
//         level: "medium",
//         category: "Math",
//         answers: [
//             { answer: 2, correct: true },
//             { answer: 1, correct: false },
//             { answer: 4, correct: false },
//             { answer: 5, correct: false }
//         ]
//     },
//     {
//         question: "What is the boiling point of water at sea level?",
//         level: "medium",
//         category: "Science",
//         answers: [
//             { answer: "100°C", correct: true },
//             { answer: "90°C", correct: false },
//             { answer: "110°C", correct: false },
//             { answer: "80°C", correct: false }
//         ]
//     },
//     {
//         question: "Who painted the Mona Lisa?",
//         level: "medium",
//         category: "Art",
//         answers: [
//             { answer: "Leonardo da Vinci", correct: true },
//             { answer: "Vincent van Gogh", correct: false },
//             { answer: "Pablo Picasso", correct: false },
//             { answer: "Claude Monet", correct: false }
//         ]
//     },
//     {
//         question: "What is the most spoken language in the world?",
//         level: "medium",
//         category: "Languages",
//         answers: [
//             { answer: "Mandarin Chinese", correct: true },
//             { answer: "English", correct: false },
//             { answer: "Spanish", correct: false },
//             { answer: "Hindi", correct: false }
//         ]
//     }
// ];


let questionss = [
    {
        question: "5+5",
        level: "low",
        category: "Math",
        answers: [
            { answer: 10, correct: true },
            { answer: 12, correct: false },
            { answer: 17, correct: false },
            { answer: 19, correct: false }
        ]
    },
    {
        question: "What is the capital of France?",
        level: "low",
        category: "Geography",
        answers: [
            { answer: "Paris", correct: true },
            { answer: "Berlin", correct: false },
            { answer: "Madrid", correct: false },
            { answer: "Rome", correct: false }
        ]
    },
    {
        question: "Who wrote 'To Kill a Mockingbird'?",
        level: "medium",
        category: "Literature",
        answers: [
            { answer: "Harper Lee", correct: true },
            { answer: "Mark Twain", correct: false },
            { answer: "F. Scott Fitzgerald", correct: false },
            { answer: "Ernest Hemingway", correct: false }
        ]
    },
    {
        question: "What is the chemical symbol for water?",
        level: "low",
        category: "Science",
        answers: [
            { answer: "H2O", correct: true },
            { answer: "O2", correct: false },
            { answer: "CO2", correct: false },
            { answer: "NaCl", correct: false }
        ]
    },
    {
        question: "In which year did the Titanic sink?",
        level: "medium",
        category: "History",
        answers: [
            { answer: 1912, correct: true },
            { answer: 1905, correct: false },
            { answer: 1898, correct: false },
            { answer: 1923, correct: false }
        ]
    },
    {
        question: "What is the largest planet in our solar system?",
        level: "low",
        category: "Astronomy",
        answers: [
            { answer: "Jupiter", correct: true },
            { answer: "Saturn", correct: false },
            { answer: "Earth", correct: false },
            { answer: "Mars", correct: false }
        ]
    },
    {
        question: "Solve for x: 2x + 3 = 7",
        level: "medium",
        category: "Math",
        answers: [
            { answer: 2, correct: true },
            { answer: 1, correct: false },
            { answer: 4, correct: false },
            { answer: 5, correct: false }
        ]
    },
    {
        question: "What is the boiling point of water at sea level?",
        level: "medium",
        category: "Science",
        answers: [
            { answer: "100°C", correct: true },
            { answer: "90°C", correct: false },
            { answer: "110°C", correct: false },
            { answer: "80°C", correct: false }
        ]
    },
    {
        question: "Who painted the Mona Lisa?",
        level: "medium",
        category: "Art",
        answers: [
            { answer: "Leonardo da Vinci", correct: true },
            { answer: "Vincent van Gogh", correct: false },
            { answer: "Pablo Picasso", correct: false },
            { answer: "Claude Monet", correct: false }
        ]
    },
    {
        question: "What is the most spoken language in the world?",
        level: "medium",
        category: "Languages",
        answers: [
            { answer: "Mandarin Chinese", correct: true },
            { answer: "English", correct: false },
            { answer: "Spanish", correct: false },
            { answer: "Hindi", correct: false }
        ]
    },
    {
        question: "What is the speed of light?",
        level: "medium",
        category: "Science",
        answers: [
            { answer: "299,792,458 meters per second", correct: true },
            { answer: "150,000,000 meters per second", correct: false },
            { answer: "300,000,000 meters per second", correct: false },
            { answer: "250,000,000 meters per second", correct: false }
        ]
    },
    {
        question: "Who was the first President of the United States?",
        level: "medium",
        category: "History",
        answers: [
            { answer: "George Washington", correct: true },
            { answer: "Thomas Jefferson", correct: false },
            { answer: "Abraham Lincoln", correct: false },
            { answer: "John Adams", correct: false }
        ]
    },
    {
        question: "What is the square root of 64?",
        level: "low",
        category: "Math",
        answers: [
            { answer: 8, correct: true },
            { answer: 7, correct: false },
            { answer: 9, correct: false },
            { answer: 6, correct: false }
        ]
    },
    {
        question: "Which planet is known as the Red Planet?",
        level: "low",
        category: "Astronomy",
        answers: [
            { answer: "Mars", correct: true },
            { answer: "Jupiter", correct: false },
            { answer: "Saturn", correct: false },
            { answer: "Venus", correct: false }
        ]
    },
    {
        question: "What is the largest mammal in the world?",
        level: "low",
        category: "Biology",
        answers: [
            { answer: "Blue Whale", correct: true },
            { answer: "Elephant", correct: false },
            { answer: "Giraffe", correct: false },
            { answer: "Rhino", correct: false }
        ]
    },
    {
        question: "Who discovered penicillin?",
        level: "medium",
        category: "Science",
        answers: [
            { answer: "Alexander Fleming", correct: true },
            { answer: "Marie Curie", correct: false },
            { answer: "Louis Pasteur", correct: false },
            { answer: "Isaac Newton", correct: false }
        ]
    },
    {
        question: "What is the capital of Japan?",
        level: "low",
        category: "Geography",
        answers: [
            { answer: "Tokyo", correct: true },
            { answer: "Osaka", correct: false },
            { answer: "Kyoto", correct: false },
            { answer: "Nagoya", correct: false }
        ]
    },
    {
        question: "Who wrote '1984'?",
        level: "medium",
        category: "Literature",
        answers: [
            { answer: "George Orwell", correct: true },
            { answer: "Aldous Huxley", correct: false },
            { answer: "Ray Bradbury", correct: false },
            { answer: "J.K. Rowling", correct: false }
        ]
    },
    {
        question: "What is the hardest natural substance on Earth?",
        level: "medium",
        category: "Science",
        answers: [
            { answer: "Diamond", correct: true },
            { answer: "Gold", correct: false },
            { answer: "Silver", correct: false },
            { answer: "Platinum", correct: false }
        ]
    },
    {
        question: "What is the smallest prime number?",
        level: "low",
        category: "Math",
        answers: [
            { answer: 2, correct: true },
            { answer: 1, correct: false },
            { answer: 3, correct: false },
            { answer: 5, correct: false }
        ]
    },
    {
        question: "What is the chemical symbol for gold?",
        level: "medium",
        category: "Science",
        answers: [
            { answer: "Au", correct: true },
            { answer: "Ag", correct: false },
            { answer: "Pb", correct: false },
            { answer: "Fe", correct: false }
        ]
    },
    {
        question: "Who wrote 'Pride and Prejudice'?",
        level: "medium",
        category: "Literature",
        answers: [
            { answer: "Jane Austen", correct: true },
            { answer: "Emily Brontë", correct: false },
            { answer: "Charlotte Brontë", correct: false },
            { answer: "Mary Shelley", correct: false }
        ]
    },
    {
        question: "What is the tallest mountain in the world?",
        level: "medium",
        category: "Geography",
        answers: [
            { answer: "Mount Everest", correct: true },
            { answer: "K2", correct: false },
            { answer: "Kangchenjunga", correct: false },
            { answer: "Lhotse", correct: false }
        ]
    },
    {
        question: "What is the capital of Italy?",
        level: "low",
        category: "Geography",
        answers: [
            { answer: "Rome", correct: true },
            { answer: "Milan", correct: false },
            { answer: "Naples", correct: false },
            { answer: "Florence", correct: false }
        ]
    },
    {
        question: "What is the value of pi to two decimal places?",
        level: "low",
        category: "Math",
        answers: [
            { answer: 3.14, correct: true },
            { answer: 3.15, correct: false },
            { answer: 3.13, correct: false },
            { answer: 3.16, correct: false }
        ]
    },
    {
        question: "Who painted the Sistine Chapel ceiling?",
        level: "medium",
        category: "Art",
        answers: [
            { answer: "Michelangelo", correct: true },
            { answer: "Leonardo da Vinci", correct: false },
            { answer: "Raphael", correct: false },
            { answer: "Donatello", correct: false }
        ]
    },
    {
        question: "What is the smallest country in the world?",
        level: "medium",
        category: "Geography",
        answers: [
            { answer: "Vatican City", correct: true },
            { answer: "Monaco", correct: false },
            { answer: "Nauru", correct: false },
            { answer: "San Marino", correct: false }
        ]
    },
    {
        question: "What is the powerhouse of the cell?",
        level: "medium",
        category: "Biology",
        answers: [
            { answer: "Mitochondria", correct: true },
            { answer: "Nucleus", correct: false },
            { answer: "Ribosome", correct: false },
            { answer: "Golgi apparatus", correct: false }
        ]
    },
    {
        question: "Who invented the telephone?",
        level: "medium",
        category: "History",
        answers: [
            { answer: "Alexander Graham Bell", correct: true },
            { answer: "Thomas Edison", correct: false },
            { answer: "Nikola Tesla", correct: false },
            { answer: "Guglielmo Marconi", correct: false }
        ]
    },
    {
        question: "What is the capital of Australia?",
        level: "low",
        category: "Geography",
        answers: [
            { answer: "Canberra", correct: true },
            { answer: "Sydney", correct: false },
            { answer: "Melbourne", correct: false },
            { answer: "Brisbane", correct: false }
        ]
    },
    {
        question: "Who wrote 'Moby-Dick'?",
        level: "medium",
        category: "Literature",
        answers: [
            { answer: "Herman Melville", correct: true },
            { answer: "Nathaniel Hawthorne", correct: false },
            { answer: "Edgar Allan Poe", correct: false },
            { answer: "Mark Twain", correct: false }
        ]
    },
    {
        question: "What is the freezing point of water?",
        level: "low",
        category: "Science",
        answers: [
            { answer: "0°C", correct: true },
            { answer: "100°C", correct: false },
            { answer: "32°C", correct: false },
            { answer: "50°C", correct: false }
        ]
    },
    {
        question: "Who was the first person to walk on the moon?",
        level: "medium",
        category: "History",
        answers: [
            { answer: "Neil Armstrong", correct: true },
            { answer: "Buzz Aldrin", correct: false },
            { answer: "Yuri Gagarin", correct: false },
            { answer: "John Glenn", correct: false }
        ]
    },
    {
        question: "What is the longest river in the world?",
        level: "medium",
        category: "Geography",
        answers: [
            { answer: "Nile", correct: true },
            { answer: "Amazon", correct: false },
            { answer: "Yangtze", correct: false },
            { answer: "Mississippi", correct: false }
        ]
    },
    {
        question: "What is the smallest ocean in the world?",
        level: "medium",
        category: "Geography",
        answers: [
            { answer: "Arctic Ocean", correct: true },
            { answer: "Indian Ocean", correct: false },
            { answer: "Southern Ocean", correct: false },
            { answer: "Atlantic Ocean", correct: false }
        ]
    },
    {
        question: "Who painted 'Starry Night'?",
        level: "medium",
        category: "Art",
        answers: [
            { answer: "Vincent van Gogh", correct: true },
            { answer: "Pablo Picasso", correct: false },
            { answer: "Claude Monet", correct: false },
            { answer: "Leonardo da Vinci", correct: false }
        ]
    },
    {
        question: "What is the most abundant gas in the Earth's atmosphere?",
        level: "medium",
        category: "Science",
        answers: [
            { answer: "Nitrogen", correct: true },
            { answer: "Oxygen", correct: false },
            { answer: "Carbon Dioxide", correct: false },
            { answer: "Hydrogen", correct: false }
        ]
    },
    {
        question: "Who wrote 'The Odyssey'?",
        level: "medium",
        category: "Literature",
        answers: [
            { answer: "Homer", correct: true },
            { answer: "Virgil", correct: false },
            { answer: "Ovid", correct: false },
            { answer: "Sophocles", correct: false }
        ]
    },
    {
        question: "What is the capital of Canada?",
        level: "low",
        category: "Geography",
        answers: [
            { answer: "Ottawa", correct: true },
            { answer: "Toronto", correct: false },
            { answer: "Vancouver", correct: false },
            { answer: "Montreal", correct: false }
        ]
    },
    {
        question: "What is the primary component of the sun?",
        level: "medium",
        category: "Astronomy",
        answers: [
            { answer: "Hydrogen", correct: true },
            { answer: "Helium", correct: false },
            { answer: "Oxygen", correct: false },
            { answer: "Carbon", correct: false }
        ]
    },
    {
        question: "Who was known as the 'Iron Lady'?",
        level: "medium",
        category: "History",
        answers: [
            { answer: "Margaret Thatcher", correct: true },
            { answer: "Indira Gandhi", correct: false },
            { answer: "Golda Meir", correct: false },
            { answer: "Angela Merkel", correct: false }
        ]
    },
    {
        question: "What is the capital of Brazil?",
        level: "low",
        category: "Geography",
        answers: [
            { answer: "Brasilia", correct: true },
            { answer: "Rio de Janeiro", correct: false },
            { answer: "Sao Paulo", correct: false },
            { answer: "Salvador", correct: false }
        ]
    },
    {
        question: "What is the chemical formula for table salt?",
        level: "medium",
        category: "Science",
        answers: [
            { answer: "NaCl", correct: true },
            { answer: "KCl", correct: false },
            { answer: "NaBr", correct: false },
            { answer: "CaCl2", correct: false }
        ]
    },
    {
        question: "Who discovered America?",
        level: "medium",
        category: "History",
        answers: [
            { answer: "Christopher Columbus", correct: true },
            { answer: "Leif Erikson", correct: false },
            { answer: "Ferdinand Magellan", correct: false },
            { answer: "Vasco da Gama", correct: false }
        ]
    },
    {
        question: "What is the square root of 144?",
        level: "low",
        category: "Math",
        answers: [
            { answer: 12, correct: true },
            { answer: 14, correct: false },
            { answer: 11, correct: false },
            { answer: 13, correct: false }
        ]
    },
    {
        question: "Who is the author of 'Harry Potter'?",
        level: "medium",
        category: "Literature",
        answers: [
            { answer: "J.K. Rowling", correct: true },
            { answer: "J.R.R. Tolkien", correct: false },
            { answer: "George R.R. Martin", correct: false },
            { answer: "C.S. Lewis", correct: false }
        ]
    },
    {
        question: "What is the primary language spoken in Brazil?",
        level: "medium",
        category: "Languages",
        answers: [
            { answer: "Portuguese", correct: true },
            { answer: "Spanish", correct: false },
            { answer: "English", correct: false },
            { answer: "French", correct: false }
        ]
    }
];
const resultQuizList = [];

const questions = questionss.map((e,index)=>{

    return {...e,id:index}
})
const container6 = document.querySelector('.container-6')

const start_Task_6 = ()=>{
    
    // category buttonlarinin hamisini cagiran funksiya
    const categoryBtnList = getCategoryBtnList()
    
  

 const categoryBtns = createCategoryBtns(categoryBtnList);
    container6.appendChild(categoryBtns)


}


const createCategoryBtns=(btns)=>{
    const quizCateogryDiv = document.createElement('div');
    quizCateogryDiv.className='quiz-category category';

    btns.forEach(btn => {
        const categoryBtn = createCategoryBtn(btn)
            quizCateogryDiv.appendChild(categoryBtn)
    });



    return quizCateogryDiv

}


// category buttonu yaradan funksiya 
const createCategoryBtn = (btn)=>{
    const button = document.createElement('button');
    button.classList.add('categoryBtn')
    button.textContent = btn
    button.addEventListener('click',showLevelByCategory)
    return button
}

const showLevelByCategory =(e)=>{
    let category = e.target.textContent

    // secilen categorye uygun olan butun suallari getirir
    const filterCategoryLevelBtns = getFilterCategoryLevelBtns(category)

    // Hemin categoryde olan levelleri getirir
        const levelBtnList = getLevelBtnListByCategory(filterCategoryLevelBtns)
        
        // level buttonlarini yaradan funksiya
        const createLevelBtn = getCreateLevelBtn(levelBtnList,category)

}
const getFilterCategoryLevelBtns = (selectedCategory)=>{
    return questions.filter(e=> e.category == selectedCategory)
}



const getCreateLevelBtn = (list,category)=>{
    const div = document.createElement('div');
    div.className = 'level-category category';

    list.forEach(item=>{
        const button = document.createElement('button');
        button.classList.add('levelBtn');
        button.textContent = item;
             
        // level buttonuna clickleyende uygun olan question containeri goster.
        button.addEventListener('click',(e)=>showQuestion(e,category))
        div.appendChild(button);
    })
    container6.innerHTML = "";
    container6.appendChild(div)
    
}


const showQuestion = (e,category)=>{
    
    const selectedLevel = e.target.textContent;
    const questionByLevel = getQuestionByLevel(selectedLevel,category)

    const createQuestion = getCretaeQuestion(questionByLevel)
    

    container6.innerHTML = ""
    container6.appendChild(createQuestion)
}

const getQuestionByLevel = (selectedLevel,category)=>{
   
            const questionByCategory = questions.filter(question=>{
                    return question.category == category
            })

           const questionByLevel = questionByCategory.filter(question=>{
                return question.level == selectedLevel


           })

          return questionByLevel

           
}

const getCretaeQuestion = (questions)=>{
let questionDiv = document.createElement('div');
        questionDiv.classList.add('question-container');

   const finishBtn = document.createElement('button');
        finishBtn.textContent = "Finish";
        finishBtn.addEventListener('click',getFInishBtnEvent)
        
    questions.forEach(question=>{
            
            // verilen suralin, butun suallarin icerisinden idsini tapiriq
            const questionID = getQuestionIdByAllQuestion(question.question)

        const h1 = document.createElement('h1');
        h1.textContent = question.question
        const answers = createAnswers(question.answers,questionID)

     

        
        questionDiv.appendChild(h1)
        questionDiv.appendChild(answers)
        
    })
questionDiv.appendChild(finishBtn)
    return questionDiv
}

// suallar containerini yaradiriq

const createAnswers = (answers,questionID)=>{
    const answerContainer = document.createElement('div');
    answerContainer.classList.add('answer-container');
    answerContainer.id = questionID


        answers.forEach((answer,i)=>{
            const answerDiv = document.createElement('div');
            answerDiv.classList.add('answer');
            

            const input = document.createElement('input');
            input.type = 'radio';
            input.id = `answer-${questionID}-${i}`
            input.name = `answer-${questionID}`;

            input.addEventListener('click',(e)=>isCorrectAnswer(e,answer) )

            const label = document.createElement('label');
            label.setAttribute('for',`answer-${questionID}-${i}`)
            
            label.textContent = answer.answer;


            answerDiv.appendChild(input);
            answerDiv.appendChild(label)

            answerContainer.appendChild(answerDiv)
        })

    return answerContainer

    
}
const isCorrectAnswer = (e,answer)=>{
    

    
    let questionId =e.target.parentElement.parentElement.id
  
   
    const selectedQuestion= questions.find(e=>e.id==questionId)
 
    const isExistingAnswer = resultQuizList.findIndex(e=>e.id ==questionId)
    
    if(isExistingAnswer==-1){
      return  resultQuizList.push({...selectedQuestion,selectAnswer:answer});
    }else{
       return resultQuizList[isExistingAnswer] = {...resultQuizList[isExistingAnswer],selectAnswer:answer}
    
    }


    
    
    
}


const getFInishBtnEvent = ()=>{
    console.log(resultQuizList);
    const correct = resultQuizList.filter(e=>e.selectAnswer.correct===true);
    const incorrect = resultQuizList.filter(e=>e.selectAnswer.correct ===false)
    console.log(correct.length,"Correct Answers count");
    console.log(incorrect.length,"inCorrect Answers count");

}
const getLevelBtnListByCategory = (list) =>{
    const uniqueLevel = [];
    let levels= list.map(e=>e.level);
     levels.forEach(e=>{
        if(!uniqueLevel.includes(e)){
            uniqueLevel.push(e)
        }
     })
     return uniqueLevel
}
const getCategoryBtnList = ()=>{
    return questions.map(e=>{
        return e.category
    })
}

const getQuestionIdByAllQuestion =(question)=>{
    const id =questions.findIndex(e=>{
       return e.question ==question
    }) 
    return id
    
}
export default start_Task_6